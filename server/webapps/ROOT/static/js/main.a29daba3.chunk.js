(this["webpackJsonpux-openapi-rest"]=this["webpackJsonpux-openapi-rest"]||[]).push([[0],{254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},365:function(e,t){},367:function(e,t){},403:function(e,t){},406:function(e,t){},408:function(e,t){},483:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(27),o=n.n(s),i=(n(254),n(255),n(256),n(6)),l=n(9),u=n(69),d=n.p+"static/media/about-icon.44db342d.svg",j=n.p+"static/media/api-docs-icon.739516cd.svg",p=n.p+"static/media/logout-icon.f9b9901d.svg",b={menu:{resources:{path:"/resources",src:n.p+"static/media/resources-icon.993b4626.svg",alt:"resources icon",title:"Resources"},resourceManager:{path:"/resource-manager",src:n.p+"static/media/resourceManager-icon.8b36346c.svg",alt:"resource-manager icon",title:"Resource Manager"},docs:{path:"/docs/".concat(localStorage.defaultItem),src:j,alt:"api docs icon",title:"API Docs"},help:{path:"/help",src:d,alt:"about icon",title:"About"},logout:{path:"/logout",src:p,alt:"logout icon",title:"Log Out"}}},h=n(494),f=n(38);var m=function(e){var t=e.config,n=t.path,c=t.src,s=t.alt,o=t.title,i=t.width;return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)(h.a.Item,{as:f.b,to:n,style:{paddingTop:"7px"},children:[Object(a.jsx)("img",{width:i,src:c,alt:s}),Object(a.jsxs)("span",{style:{marginLeft:"7px"},children:[" ",o," "]})]}),Object(a.jsx)(h.a.Divider,{})]})},x=n(497),O=n(492),v=n(498),g=n.p+"static/media/metamug-console-logo.9d26574d.png";var y=function(){return Object(a.jsx)(x.a,{sticky:"top",bg:"primary",className:"text-white",style:{height:"60px",boxSizing:"border-box"},children:Object(a.jsxs)(O.a,{style:{paddingLeft:"8px"},children:[Object(a.jsx)(x.a.Brand,{as:f.b,style:{cursor:"pointer"},to:"/resources",children:Object(a.jsx)("img",{alt:"Api console",style:{cursor:"pointer"},src:g,height:"24px"})}),Object(a.jsx)(v.a,{children:Object(a.jsx)(h.a,{alignRight:!0,style:{marginRight:"5px"},title:Object(a.jsxs)("b",{className:"text-white",children:[Object(a.jsx)("i",{className:"fa fa-server fa-fw",style:{fontSize:"18px",verticalAlign:"middle",marginRight:"1px"}}),"Menu"]}),id:"backend-dropdown",children:Object.keys(b.menu).map((function(e){return Object(a.jsx)(m,{config:b.menu[e]},b.menu[e].path)}))})})]})})},w=n(8),S=n.n(w),k=n(12),N=n(236),R='<?xml version="1.0" encoding="UTF-8" ?>\n<Resource xmlns="http://xml.metamug.net/resource/1.0" v="1.0">\n\n\t<Request method="GET">\n\t\t<Desc> Example Resource </Desc>\n\t\t<Sql id="myQuery"> SELECT \'Hello World\' </Sql>\n\t</Request>\n\n</Resource>',C="http://localhost:7000",E=C+"/console",L=n.n(N).a.create({baseURL:E,headers:{Authorization:localStorage.token}});function T(e,t){return I.apply(this,arguments)}function I(){return(I=Object(k.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.post("accesstoken","username=".concat(t,"&password=").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return A.apply(this,arguments)}function A(){return(A=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/app/".concat("api","/rpx"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return P.apply(this,arguments)}function P(){return(P=Object(k.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/app/".concat(localStorage.defaultItem,"/rpx/").concat(n,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(k.a)(S.a.mark((function e(t,n,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.put("/app/".concat(localStorage.defaultItem,"/rpx/").concat(n,"/").concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return q.apply(this,arguments)}function q(){return(q=Object(k.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.post("/app/".concat(localStorage.defaultItem,"/rpx/"),"filename=".concat(t,".xml&data=").concat(encodeURIComponent(n)));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n){return z.apply(this,arguments)}function z(){return(z=Object(k.a)(S.a.mark((function e(t,n,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/app/").concat(localStorage.defaultItem,"/rpx/").concat(n,"/").concat(t,"?type=").concat(a),{headers:{Authorization:localStorage.token},method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n(495);var W=function(e){var t=e.onConfirm,n=e.title,s=e.btn,o=e.message,l=e.objectName,u=(e.closeModal,Object(r.useState)(!1)),d=Object(i.a)(u,2),j=d[0],p=d[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("span",{title:n,onClick:function(){return p(!0)},style:{cursor:"pointer"},className:s?"btn btn-default fa fa-trash":"Delete DataSource"===n?"fa fa-trash fa-lg text-success":"fa fa-lg fa-trash-o fa-fw"}),Object(a.jsx)(U.a,{contentLabel:"delete-resource-modal",show:j,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"modal-header",children:Object(a.jsx)("h5",{children:o})}),Object(a.jsx)("div",{className:"modal-body",children:Object(a.jsx)("div",{children:Object(a.jsx)("b",{children:l})})}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){p(!1),t()},children:"Yes"}),Object(a.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){return p(!1)},children:"No"})]})]})})]})},X=n(235);function _(e){var t=e.state,n=e.dispatch,r=t.open,c=t.message;return Object(a.jsxs)(U.a,{show:r,"aria-labelledby":"Error Modal",backdrop:"static",onHide:function(){return n({type:"close"})},centered:!0,children:[Object(a.jsx)(U.a.Header,{closeButton:!0,children:Object(a.jsx)("h4",{className:"modal-title",style:{fontWeight:"bold",fontSize:"17px"},children:"Error!"})}),Object(a.jsx)(U.a.Body,{children:c}),Object(a.jsx)(U.a.Footer,{children:Object(a.jsx)(X.a,{type:"button",variant:"danger",onClick:function(){return n({type:"close"})},children:"Close"})})]})}var V=Object(r.createContext)(),J=Object(r.createContext)(),K={open:!1,message:""};var Y="open",$="close";function Q(e,t){var n=t.payload;switch(t.type){case Y:return function(e,t){return{open:!0,message:t.message}}(0,n);case $:return{open:!1,message:""};default:throw new Error("Invalid Action")}}function Z(e){var t=Object(r.useReducer)(Q,K),n=Object(i.a)(t,2),c=n[0],s=n[1];return Object(a.jsx)(J.Provider,{value:s,children:Object(a.jsxs)(V.Provider,{value:c,children:[Object(a.jsx)(_,{state:c,dispatch:s}),e.children]})})}function ee(){var e=Object(r.useContext)(V),t=Object(r.useContext)(J);if(void 0===e||void 0===t)throw new Error("no context available");return[e,t]}function te(e){var t=e.state,n=e.dispatch,r=t.loading,c=t.message;return Object(a.jsx)(U.a,{show:r,"aria-labelledby":"Loading Modal",backdrop:"static",size:"sm",onHide:function(){return n({type:"close"})},centered:!0,children:Object(a.jsxs)(U.a.Body,{children:[" ",Object(a.jsxs)("h6",{children:[c,Object(a.jsx)("span",{style:{color:"#34495e"},className:"fa fa-circle-o-notch fa-spin pull-right"})]})]})})}var ne=Object(r.createContext)(),ae=Object(r.createContext)(),re="Loading ...",ce={loading:!1,message:re};var se="open",oe="close";function ie(e,t){var n=t.payload;switch(t.type){case se:return function(e,t){return{loading:!0,message:(t||{}).message||re}}(0,n);case oe:return{loading:!1,message:re};default:throw new Error("Invalid Action")}}function le(e){var t=Object(r.useReducer)(ie,ce),n=Object(i.a)(t,2),c=n[0],s=n[1];return Object(a.jsx)(ae.Provider,{value:s,children:Object(a.jsxs)(ne.Provider,{value:c,children:[Object(a.jsx)(te,{state:c,dispatch:s}),e.children]})})}function ue(){var e=Object(r.useContext)(ne),t=Object(r.useContext)(ae);if(void 0===e||void 0===t)throw new Error("no context available");return[e,t]}var de=n(496),je=n(237),pe=n.n(je),be=n(156),he=n.n(be),fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function me(e){return function(e){var t=e.getDate(),n=e.getMonth(),a=fe[n],r=e.getFullYear()%100,c=e.getHours(),s=(e.getMinutes()<10?"0":"")+e.getMinutes();return"".concat(a," ").concat(t," '").concat(r,"  ").concat(c,":").concat(s)}(new Date(e))}var xe=n(118);function Oe(e){var t=new URLSearchParams;return Object.keys(e).map((function(n){return t.set(n,e[n])})),t.toString()}var ve={position:"relative",display:"flex",width:"370px",marginLeft:"710px"},ge=[];var ye=function(e){var t=this,n=ee(),c=Object(i.a)(n,2),s=c[0],o=c[1],u=ue(),d=Object(i.a)(u,2),j=(d[0],d[1]),p=Object(r.useState)(ge),b=Object(i.a)(p,2),h=b[0],m=b[1],x=Object(r.useState)(!1),O=Object(i.a)(x,2),v=(O[0],O[1]),g=Object(r.useState)(!1),y=Object(i.a)(g,2),w=y[0],N=y[1],R=Object(r.useState)({name:"",version:""}),E=Object(i.a)(R,2),L=E[0],T=E[1],I=Object(r.useState)(L.name),M=Object(i.a)(I,2),A=M[0],P=M[1],B=be.Search.SearchBar,F=[{dataField:"secure",text:"secure",hidden:!0,searchable:!1,headerTitle:!0},{dataField:"name",text:"Name",sort:!0,headerAlign:"center",headerTitle:!0,headerStyle:{fontWeight:"bold"},formatter:function(e,t){var n="/editor?".concat(Oe({name:t.name,version:t.version,app:"demo",isNew:!1}));return Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(f.b,{style:{textDecoration:"none"},to:n,children:Object(a.jsx)("span",{children:t.name})})})}},{dataField:"version",text:"Version",sort:!0,align:"center",headerAlign:"center",headerTitle:!0,headerStyle:{fontWeight:"bold"}},{dataField:"endpoint",text:"Endpoint",sort:!0,headerAlign:"center",headerStyle:{fontWeight:"bold"},headerTitle:!0,formatter:function(e,n){return Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("a",{className:"text-success",style:{textDecoration:"none",cursor:"pointer"},onClick:function(){return z(t,n.version,n.name)},children:n.endpoint})})}},{dataField:"lastmodified",text:"Last Modified",sort:!0,headerStyle:{fontWeight:"bold"},headerAlign:"center",headerTitle:!0,align:"center"},{dataField:"options",text:"Options",headerTitle:!0,headerAlign:"center",headerStyle:{fontWeight:"bold"},formatter:function(e,t){return Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("span",{title:"Download Resource",style:{cursor:"pointer"},onClick:function(){return Q(t.name,t.version)},className:"fa fa-lg fa-download fa-fw"}),Object(a.jsx)("span",{title:"Rename Resource",style:{cursor:"pointer"},onClick:function(){return q(t.name,t.version)},className:"fa fa-lg fa-edit fa-fw"}),Object(a.jsx)(W,{onConfirm:function(){return _(t.name,t.version)},message:"Are you sure you want to remove this resource?",title:"Delete Resource",objectName:t.name})]})}}],q=function(e,t){N(!0),T({name:e,version:t})},z=function(e,t,n){var a="".concat(C,"/").concat(localStorage.defaultItem,"/").concat(t,"/").concat(n);window.open(a,"_blank")},_=function(){var e=Object(k.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,n,"all");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var t=Object(k.a)(S.a.mark((function t(n,a,r){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j({type:"open",payload:{message:"Deleting Resources..."}}),t.next=3,G(n,a,r);case 3:if("jsp"===r){t.next=8;break}return N(!1),v(!1),t.next=8,e.onDelete();case 8:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),J=function(){var e=Object(k.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t,n);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",o({type:"open",payload:{message:s.message||"Failed to get XML"}}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(k.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!/^[a-z]+$/.test(n)){e.next=6;break}return e.next=4,H(n,t);case 4:e.next=7;break;case 6:throw new Error("Invalid resource name: "+n);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(k.a)(S.a.mark((function e(t){var n,a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!1),j({type:"open",payload:{message:"Renaming resource: "+L.name}}),e.prev=3,n=L.name,a=L.version,e.next=7,J(n,a);case 7:return r=e.sent,e.next=10,K(r,A,n,a);case 10:return e.next=12,_(n,a);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(3),j({type:"close"}),e.abrupt("return",o({type:"open",payload:{message:e.t0.message||"Failed to rename resource"}}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(t))),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},Q=function(){var e=Object(k.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n).then((function(e){$("".concat(t,".xml"),e.data)})).catch((function(e){return alert("Unable to connect to server. Please check your connection!")}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){for(var t=[],n=0;n<e.data.length;n++){var a={},r=e.data[n];a.name=r.name,a.version=r.version,r.tag?a.tags=r.tag:a.tags="",a.endpoint="/".concat(r.version,"/").concat(r.name),a.lastmodified=me(r.created),a.options="NA",t.push(a)}m(t)}),[e.data]),Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)(he.a,{bootstrap4:!0,keyField:"endpoint",data:h,columns:F,search:!0,children:function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(B,Object(l.a)(Object(l.a)({},e.searchProps),{},{className:"custome-search-field",style:ve,placeholder:"Search..."})),Object(a.jsx)("br",{}),Object(a.jsx)(pe.a,Object(l.a)({striped:!0,defaultSortDirection:"asc",responsive:!0,hover:!0,condensed:!0,className:"table table-striped table-bordered table-hover"},e.baseProps))]})}}),Object(a.jsxs)(U.a,{contentLabel:"rename-resource-modal",show:w,onHide:function(){return N(!1)},children:[Object(a.jsx)(U.a.Header,{closeButton:!0,children:Object(a.jsx)("h6",{style:{fontWeight:"bold",fontSize:"16px",paddingTop:"10px"},children:"Rename Resource"})}),Object(a.jsx)(U.a.Body,{children:Object(a.jsx)(de.a.Control,{type:"text",name:"newname",defaultValue:L.name,onChange:function(e){return P(e.target.value)}})}),Object(a.jsx)(U.a.Footer,{children:Object(a.jsx)(X.a,{variant:"success",onClick:Y,children:"OK"})})]})]})},we=n(493),Se=n(238);var ke=function(e){var t=ee(),n=Object(i.a)(t,2),c=(n[0],n[1]),s=ue(),o=Object(i.a)(s,2),l=(o[0],o[1]),u=Object(r.useState)(!1),d=Object(i.a)(u,2),j=d[0],p=d[1],b=Object(r.useState)([]),h=Object(i.a)(b,2),f=h[0],m=h[1],x=function(){var e=Object(k.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l({type:"open",payload:{message:"Getting Resources..."}}),e.next=4,M();case 4:t=e.sent,n=t.data,m(n.data),l({type:"close"}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),l({type:"close"}),p(!0),e.abrupt("return",c({type:"open",payload:{message:e.t0.message||"Failed to get resources"}}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x()}),[]),Object(a.jsxs)(O.a,{className:"pt-4",children:[Object(a.jsxs)(we.a,{children:[Object(a.jsx)(Se.a,{lg:"9",children:Object(a.jsxs)("span",{style:{fontSize:"32px",marginLeft:"12px"},children:["Resources"," "]})}),Object(a.jsx)(Se.a,{lg:"3",children:Object(a.jsx)("div",{className:"btn-group float-right",children:Object(a.jsxs)("button",{type:"button",onClick:function(){if(f.length>=20);else{var t="/editor?".concat(Oe({isNew:!0,app:"demo"}));e.history.push(t)}},className:"btn btn-lg btn-success mr-3",title:"Create New Resource",children:["Create Resource ",Object(a.jsx)("i",{className:"fa fa-file-code-o fa-fw"})]})})})]}),Object(a.jsx)(O.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),0!==f.length?Object(a.jsx)("div",{children:Object(a.jsx)(ye,{data:f,onDelete:x})}):Object(a.jsx)("div",{children:j?Object(a.jsx)("div",{children:Object(a.jsx)("h5",{className:"text text-danger",children:"Server not reachable!"})}):Object(a.jsx)("div",{children:Object(a.jsxs)("h5",{children:["You do not have any resources. Click on New Resource to create a"," ",Object(a.jsx)("a",{style:{cursor:"pointer"},rel:"noreferrer",target:"_blank",href:"https://metamug.com/docs/resource-file".concat("?utm_source=metamug-api-console&utm_medium=link&utm_campaign=product-guide","&utm_content=").concat(localStorage.currentApiVersion),children:"resource"}),"."]})})})]})})]})},Ne=n(77),Re=n(499),Ce=n(20);function Ee(){var e=Object(Ne.a)(["\n  height: 73vh;\n  overflow-y: auto;\n\n  & thead th {\n    position: sticky;\n    top: 0;\n  }\n"]);return Ee=function(){return e},e}function Le(){var e=Object(Ne.a)(["\n  --scrollbarBG: #e4ecef;\n  --thumbBG: #90a4ae;\n\n  scrollbar-width: thin;\n  scrollbar-color: var(--thumbBG) var(--scrollbarBG);\n\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n  &::-webkit-scrollbar-track {\n    background: var(--scrollbarBG);\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: var(--thumbBG);\n    border-radius: 8px;\n    border: 3px solid var(--scrollbarBG);\n  }\n"]);return Le=function(){return e},e}function Te(){var e=Object(Ne.a)(["\n  margin: 3px 6px 0 5px;\n  cursor: pointer;\n\n  & .list-group-item,\n  .active {\n    margin: 3px 6px 0 5px;\n  }\n"]);return Te=function(){return e},e}var Ie=Object(Ce.default)(Re.a.Item)(Te()),Me=Ce.default.div(Le()),Ae=Object(Ce.default)(Me)(Ee());function De(e){var t=e.listConfig.data.map((function(e,t){return Object(a.jsx)(Ie,{active:e.isActive,onClick:e.isActive?null:e.onClickItem,children:e.name},e.name)}));return Object(a.jsx)("div",{children:Object(a.jsx)(Ae,{children:Object(a.jsx)(Re.a,{children:t})})})}var Pe=Object(r.createContext)(),Be={name:"New Resource",version:"1.0",isNewResource:!0};function Fe(e){var t=Object(r.createRef)(),n=Object(r.useState)(Be),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)(!0),u=Object(i.a)(l,2),d=u[0],j=u[1];return Object(a.jsx)(Pe.Provider,{value:{state:{selectedResource:s,saved:d},handlers:{setSelectedResource:o,setSaved:j},refs:{cmRef:t}},children:e.children})}function He(e){var t=e.state,n=e.dispatch,r=t.open,c=t.message;return Object(a.jsxs)(U.a,{show:r,"aria-labelledby":"SaveChanges Modal",backdrop:"static",onHide:function(){return n({type:"close"})},centered:!0,children:[Object(a.jsx)(U.a.Header,{closeButton:!0,children:Object(a.jsx)("h4",{className:"modal-title",style:{fontWeight:"bold",fontSize:"17px"},children:"Warning!"})}),Object(a.jsx)(U.a.Body,{children:c}),Object(a.jsxs)(U.a.Footer,{children:[Object(a.jsx)(X.a,{type:"button",variant:"primary",onClick:function(){console.log("save is clicked"),n({type:"close"})},children:"Save"}),Object(a.jsx)(X.a,{type:"button",variant:"danger",onClick:function(){console.log("continue is clicked"),n({type:"close"})},children:"Continue"})]})]})}var qe=Object(r.createContext)(),Ge=Object(r.createContext)(),ze={open:!1,message:""};var Ue="open",We="close";function Xe(e,t){var n=t.payload;switch(t.type){case Ue:return function(e,t){return{open:!0,message:t.message}}(0,n);case We:return{open:!1,message:""};default:throw new Error("Invalid Action")}}function _e(e){var t=Object(r.useReducer)(Xe,ze),n=Object(i.a)(t,2),c=n[0],s=n[1];return Object(a.jsx)(Ge.Provider,{value:s,children:Object(a.jsxs)(qe.Provider,{value:c,children:[Object(a.jsx)(He,{state:c,dispatch:s}),e.children]})})}function Ve(){var e=Object(r.useContext)(qe),t=Object(r.useContext)(Ge);if(void 0===e||void 0===t)throw new Error("no context available");return[e,t]}function Je(){var e=ee(),t=Object(i.a)(e,1)[0],n=Object(r.useContext)(Pe),c=n.state,s=n.handlers,o=ue(),u=Object(i.a)(o,2),d=(u[0],u[1]),j=Ve(),p=Object(i.a)(j,2),b=(p[0],p[1]),h=Object(r.useState)(!1),f=Object(i.a)(h,2),m=(f[0],f[1]),x=Object(r.useState)([]),O=Object(i.a)(x,2),v=O[0],g=O[1],y=function(){var e=Object(k.a)(S.a.mark((function e(){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d({type:"open",payload:{message:"Getting Resources..."}}),e.next=4,M();case 4:n=e.sent,a=n.data,g(a.data),s.setSelectedResource(Object(l.a)(Object(l.a)({},c.selectedResource),{},{name:a.data[0].name,version:a.data[0].version,created:a.data[0].created})),d({type:"close"}),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),d({type:"close"}),m(!0),e.abrupt("return",t({type:"open",payload:{message:e.t0.message||"Failed to get resources"}}));case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){return e.replace(/\*/g,"")};Object(r.useEffect)((function(){y()}),[]);var N={data:[]};return v.map((function(e){N.data.push({name:e.name,isActive:w(e.name)===w(c.selectedResource.name),onClickItem:function(){if(!c.saved)return b({type:"open",payload:{message:"Changes not saved"}});s.setSelectedResource(Object(l.a)(Object(l.a)({},c.selectedResource),{},{name:w(e.name),version:e.version,created:e.created}))}})})),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{style:{marginBottom:"11px",marginLeft:"5px"},children:"Resources"}),Object(a.jsx)(De,{listConfig:N})]})}var Ke=n(11),Ye=n.n(Ke),$e=(n(334),n(173),n(335),n(174),n(175),n(130),n(176),n(177),n(336),n(178),n(179),n(180),n(181),n(182),n(337),n(338),n(339),n(97),n(183),n(184),n(131),n(185),n(242)),Qe=n.n($e),Ze=(n(186),n(345),{"!top":["Resource"],Tag:{attrs:{name:null,color:null}},Desc:{children:["Tag"]},Sql:{attrs:{id:null,ref:null,requires:null,when:null,onblank:null,onerror:null,classname:null,output:["true","false"],limit:null,offset:null,type:["query","update"],datasource:null}},Transaction:{attr:{datasource:null},children:["Sql"]},Arg:{attrs:{name:null,value:null,path:null}},Execute:{attrs:{id:null,requires:null,when:null,onerror:null,classname:null,output:["true","false"]},children:["Arg"]},Script:{attrs:{id:null,output:["true","false"],file:null,when:null}},Param:{attrs:{name:null,max:null,min:null,maxlength:null,minlength:null,pattern:null,exists:null,value:null,required:["true","false"],type:["date","datetime","email","number","text","time","url"]}},Header:{attrs:{name:null,value:null}},Body:{},XRequest:{attrs:{id:null,when:null,url:null,classname:null,method:["GET","POST","PUT","DELETE"],output:["true","false","headers"]},children:["Param","Header","Body"]},Text:{attrs:{id:null,output:["true","false"],when:null}},Request:{attrs:{method:["GET","POST","PUT","DELETE"],status:null,item:["true","false"]},children:["Desc","Header","Param","Sql","Execute","XRequest","Text","Script"]},Resource:{attrs:{version:null,auth:null,parent:null},children:["Desc","Request"]}}),et=Object(r.forwardRef)((function(e,t){var n=e.value,c=e.onTextChange,s=e.darkTheme,o=Object(u.a)(e,["value","onTextChange","darkTheme"]),d=function(e,t){return t&&!t()||setTimeout((function(){e.state.completionActive||Ye.a.showHint(e,Ye.a.hint.xml,{schemaInfo:Ze})}),100),Ye.a.Pass},j=Object(r.useContext)(Pe),p=j.state,b=(j.handlers,Object(r.useState)(0)),h=Object(i.a)(b,2),f=h[0],m=h[1],x=function(e){return d(e,(function(){var t=e.getTokenAt(e.getCursor());return!!("string"!==t.type||/['"]/.test(t.string.charAt(t.string.length-1))&&1!==t.string.length)&&Ye.a.innerMode(e.getMode(),t.state).state.tagName}))},O={lineNumbers:!0,autoCloseBrackets:!0,mode:"xml",autofocus:!0,placeholder:"Type here...  \n \n Press Ctrl+S to save",keyMap:"sublime",foldGutter:!0,inputStyle:"contenteditable",gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"'<'":d,"'/'":function(e){return d(e,(function(){var t=e.getCursor();return"<"===e.getRange(Ye.a.Pos(t.line,t.ch-1),t)}))},"' '":x,"'='":x,"Ctrl-Space":function(e){Ye.a.showHint(e,Ye.a.hint.xml,{schemaInfo:Ze})},"Ctrl-/":function(e){e.toggleComment({indent:!0})},F12:function(e){e.execCommand("indentAuto")}}};return Object(r.useEffect)((function(){m(f+1)}),[p.selectedResource]),Object(a.jsx)("div",{children:Object(r.createElement)(Qe.a,Object(l.a)(Object(l.a)({options:Object(l.a)(Object(l.a)({},O),{},{theme:s?"material":"neat"})},o),{},{key:f,onChange:c,autoFocus:!0,ref:t,value:n}))})}));function tt(e){var t=Object(r.useContext)(Pe),n=t.state,c=t.handlers,s=Object(r.createRef)(),o=ue(),u=Object(i.a)(o,2),d=(u[0],u[1]),j=ee(),p=Object(i.a)(j,2),b=(p[0],p[1]),h=Ve(),f=Object(i.a)(h,2),m=(f[0],f[1],Object(r.useState)(!1)),x=Object(i.a)(m,2),O=(x[0],x[1],Object(r.useState)(!1)),v=Object(i.a)(O,2),g=v[0],y=v[1],w=Object(r.useState)(!1),N=Object(i.a)(w,2),E=(N[0],N[1],Object(r.useState)(R)),L=Object(i.a)(E,2),T=L[0],I=L[1],M=Object(r.useState)(R),A=Object(i.a)(M,2),P=A[0],F=A[1],H=Object(r.useState)(!1),q=Object(i.a)(H,2),G=q[0],z=q[1],U=Object(r.useState)(!1),W=Object(i.a)(U,2),X=(W[0],W[1],Object(r.useState)(!1)),_=Object(i.a)(X,2),V=(_[0],_[1],Object(r.useState)(!1)),J=Object(i.a)(V,2),K=(J[0],J[1],Object(r.useState)(!1)),Y=Object(i.a)(K,2),$=(Y[0],Y[1],Object(r.useState)("")),Q=Object(i.a)($,2),Z=(Q[0],Q[1],Object(r.useState)(!1)),te=Object(i.a)(Z,2),ne=(te[0],te[1],Object(r.useState)("")),ae=Object(i.a)(ne,2),re=(ae[0],ae[1],Object(r.useState)(!1)),ce=Object(i.a)(re,2),se=ce[0],oe=ce[1],ie=Object(r.useState)(!1),le=Object(i.a)(ie,2),de=(le[0],le[1],n.selectedResource),je=de.name,pe=de.version,be=(de.created,de.isNewResource,function(e){e.returnValue="Are you sure you want to leave this page?"}),he=function(e){return e.replace(/\*/g,"")},fe=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("saving is called"),e.prev=1,d({type:"open",payload:{message:"Saving Resource..."}}),e.next=5,B(he(je),pe,P);case 5:z(!1),document.title=n.selectedResource.name,I(P),d({type:"close"}),c.setSaved(!0),window.removeEventListener("beforeunload",be),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),d({type:"close"}),e.abrupt("return",b({type:"open",payload:{message:e.t0.message||"Failed to save resource"}}));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),me=function(e){if(e.preventDefault(),""===P)return b({type:"open",payload:{message:"Resource XML cannot be empty"}});fe()},xe=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d({type:"open",payload:{message:"Getting resource data..."}}),e.next=4,D(he(n.selectedResource.name),n.selectedResource.version);case 4:return t=e.sent,a=t.data,oe(!0),I(a),F(a),e.abrupt("return",d({type:"close"}));case 12:return e.prev=12,e.t0=e.catch(0),d({type:"close"}),e.abrupt("return",b({type:"open",payload:{message:"Could not get resource data",saveHandler:me()}}));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){y(localStorage.darkMode)}),[]),Object(r.useEffect)((function(){}),[s]),Object(r.useEffect)((function(){return"New Resource"!==he(n.selectedResource.name)&&xe(),function(){window.removeEventListener("beforeunload",be)}}),[he(n.selectedResource.name)]),Object(r.useEffect)((function(){document.title=n.selectedResource.name}),[n.selectedResource.name]),Object(r.useEffect)((function(){P===T?(c.setSaved(!0),document.title=n.selectedResource.name,window.removeEventListener("beforeunload",be),z(!1),se&&(c.setSelectedResource(Object(l.a)(Object(l.a)({},n.selectedResource),{},{name:he(n.selectedResource.name)})),oe(!1))):c.setSaved(!1)}),[P]),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:{marginBottom:"5px",width:"31px",height:"35px",paddingLeft:"4px"},title:"Save File",onClick:me,className:"btn btn-primary btn-sm",children:Object(a.jsx)("i",{style:{marginTop:"6px"},className:"fa fa-floppy-o fa-fw fa-lg"})}),Object(a.jsx)("span",{title:"Open resource in browser",onClick:function(){var e="".concat(C,"/").concat(localStorage.defaultItem,"/").concat(pe,"/").concat(je);window.open(e,"_blank")},style:{height:"35px",cursor:"pointer",marginBottom:"5px",marginLeft:"5px",width:"31px"},className:"btn btn-primary btn-sm",children:Object(a.jsx)("i",{className:"fa fa-lg fa-location-arrow fa-inverse",style:{marginTop:"7px"}})}),Object(a.jsx)("span",{title:"Theme",style:{height:"35px",cursor:"pointer",marginLeft:"5px",marginBottom:"5px",width:"31px",paddingLeft:"9px"},onClick:function(){y((function(e){var t=!e;return localStorage.darkMode=t,t}))},className:"btn btn-primary",children:g?Object(a.jsx)("i",{className:"fa fa-lg fa-moon-o"}):Object(a.jsx)("i",{className:"fa fa-lg fa-lightbulb-o"})}),Object(a.jsx)("div",{className:"XMLInput mt-2",children:Object(a.jsx)(et,{ref:s,documentModified:G,onTextChange:function(e){return G||(window.addEventListener("beforeunload",be),document.title+=" *",z(!0)),F(e)},value:P,darkTheme:g})})]})}function nt(){var e=Object(Ne.a)(["\n  margin: 3px 6px 0 5px;\n\n  & .list-group-item,\n  .active {\n    margin: 3px 6px 0 5px;\n  }\n"]);return nt=function(){return e},e}var at=Object(Ce.default)(Re.a.Item)(nt()),rt=function(){var e=Object(r.useContext)(Pe),t=e.state,n=(e.handlers,Object(a.jsxs)("div",{children:[Object(a.jsxs)(at,{children:[" ",Object(a.jsx)("span",{style:{marginRight:"15px",fontSize:"16px"},children:"Name:"}),t.selectedResource.name," "]}),Object(a.jsxs)(at,{children:[" ",Object(a.jsx)("span",{style:{marginRight:"15px",fontSize:"16px"},children:"Version: "}),t.selectedResource.version," "]}),Object(a.jsxs)(at,{children:[" ",Object(a.jsx)("span",{style:{marginRight:"15px",fontSize:"16px"},children:"EndPoints:"}),Object(a.jsxs)("a",{children:["/".concat(t.selectedResource.version,"/").concat(t.selectedResource.name)," "]})," "]}),Object(a.jsxs)(at,{children:[" ",Object(a.jsxs)("span",{style:{marginRight:"15px",fontSize:"16px"},children:["Created On:"," "]}),t.selectedResource.created," "]}),Object(a.jsxs)(at,{children:[" ",Object(a.jsx)("span",{style:{marginRight:"15px",fontSize:"16px"},children:"Last Modified On:"}),me(t.selectedResource.created)," "]})]}));return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{style:{marginLeft:"4px"},children:"Reference"}),Object(a.jsx)("div",{style:{marginTop:"13px",width:"345px"},children:n})]})};function ct(){return Object(a.jsx)("div",{style:{marginTop:"3%"},children:Object(a.jsxs)(we.a,{className:"mr-0",children:[Object(a.jsx)("div",{className:"col-md-3 mt-3 ",children:Object(a.jsx)(Je,{})}),Object(a.jsx)("div",{className:"col-md-6 mt-2 pl-0",children:Object(a.jsx)(tt,{})}),Object(a.jsx)("div",{className:"col-md-3 mt-3 pl-0",children:Object(a.jsx)(rt,{})})]})})}n(123),n(346),n(347),n(348);var st=n(500),ot="New Resource",it={name:ot,version:"1.0",isNewResource:!0};var lt=function(e){var t=Object(r.createRef)(),n=ue(),c=Object(i.a)(n,2),s=(c[0],c[1]),o=ee(),u=Object(i.a)(o,2),d=(u[0],u[1]),j=Object(r.useState)(!1),p=Object(i.a)(j,2),b=p[0],h=(p[1],Object(r.useState)(!1)),m=Object(i.a)(h,2),x=m[0],O=m[1],v=Object(r.useState)(!1),g=Object(i.a)(v,2),y=g[0],w=(g[1],Object(r.useState)("")),N=Object(i.a)(w,2),E=N[0],L=N[1],T=Object(r.useState)(R),I=Object(i.a)(T,2),M=I[0],A=I[1],P=Object(r.useState)(!1),F=Object(i.a)(P,2),q=F[0],G=F[1],z=Object(r.useState)(!1),W=Object(i.a)(z,2),X=W[0],_=W[1],V=Object(r.useState)(!1),J=Object(i.a)(V,2),K=J[0],Y=(J[1],Object(r.useState)(!1)),$=Object(i.a)(Y,2),Q=$[0],Z=($[1],Object(r.useState)(!1)),te=Object(i.a)(Z,2),ne=te[0],ae=te[1],re=Object(r.useState)(""),ce=Object(i.a)(re,2),se=(ce[0],ce[1],Object(r.useState)(!1)),oe=Object(i.a)(se,2),ie=oe[0],le=(oe[1],Object(r.useState)(it)),je=Object(i.a)(le,2),pe=je[0],be=je[1],he=Object(r.useState)(""),fe=Object(i.a)(he,2),me=fe[0],Oe=fe[1],ve=Object(r.useState)(""),ge=Object(i.a)(ve,2),ye=ge[0],Se=ge[1],ke=Object(r.useState)(!1),Ne=Object(i.a)(ke,2),Re=Ne[0],Ce=Ne[1],Ee=pe.name,Le=pe.version,Te=pe.isNewResource,Ie=function(e){e.returnValue="Are you sure you want to leave this page?"},Me=function(e){return"".concat(e,"*")},Ae=function(e){return e.replace(/\*/g,"")},De=function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s({type:"open",payload:{message:"Saving Resource..."}}),e.next=4,B(Ae(Ee),Le,M);case 4:G(!1),be(Object(l.a)(Object(l.a)({},pe),{},{name:Ae(pe.name)})),s({type:"close"}),window.removeEventListener("beforeunload",Ie),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),s({type:"close"}),e.abrupt("return",d({type:"open",payload:{message:e.t0.message||"Failed to save resource"}}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var t=Object(k.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/^[a-z]+$/.test(me)){t.next=15;break}return s({type:"open",payload:{message:"Creating Resource..."}}),t.prev=2,t.next=5,H(me,M);case 5:s({type:"close"}),e.history.push("/resources"),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(2),s({type:"close"}),t.abrupt("return",d({type:"open",payload:{message:t.t0.message||"Failed to create resource"}}));case 13:t.next=16;break;case 15:return t.abrupt("return",d({type:"open",payload:{message:"Invalid resource name provided"}}));case 16:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),Be=function(e){return e.preventDefault(),""===M?d({type:"open",payload:{message:"Resource XML cannot be empty"}}):Te?Pe():void(!function(){var e;return window.DOMParser?e=(new DOMParser).parseFromString(M,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(M)),"v".concat(e.getElementsByTagName("Resource")[0].getAttribute("v"))===Le}()?Pe():De())},Fe=function(){var e=Object(k.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te){e.next=17;break}return e.prev=1,s({type:"open",payload:{message:"Getting resource data..."}}),e.next=5,D(Ee,Le);case 5:return t=e.sent,n=t.data,Se(n),L(n),A(n),e.abrupt("return",s({type:"close"}));case 13:return e.prev=13,e.t0=e.catch(1),s({type:"close"}),e.abrupt("return",d({type:"open",payload:{message:"Could not get resource data"}}));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var t=function(e){var t,n=new URLSearchParams(e),a={},r=Object(xe.a)(n.keys());try{for(r.s();!(t=r.n()).done;){var c=t.value;a[c]=n.get(c)}}catch(s){r.e(s)}finally{r.f()}return a}(e.location.search),n=t.name,a=t.version,r=t.isNew;be({name:"true"===r?ot:n,version:a,isNewResource:"true"===r}),O(localStorage.darkMode)}),[]),Object(r.useEffect)((function(){t.current&&""!==ye&&(Re||(t.current.getCodeMirror().setValue(ye),Ce(!0)))}),[t]),Object(r.useEffect)((function(){return Fe(),function(){window.removeEventListener("beforeunload",Ie)}}),[pe.version]),Object(r.useEffect)((function(){document.title=Ee}),[Ee]),Object(r.useEffect)((function(){M===E&&(window.removeEventListener("beforeunload",Ie),G(!1),be(Object(l.a)(Object(l.a)({},pe),{},{name:Ae(Ee)})))}),[M]),Object(a.jsxs)("div",{className:"container",style:{marginTop:"10px"},children:[Object(a.jsxs)(we.a,{children:[Object(a.jsxs)(st.a,{style:{marginLeft:"15px"},children:[Object(a.jsx)(st.a.Item,{children:Object(a.jsx)(f.b,{to:"/resources",children:"resources"})}),Object(a.jsx)(st.a.Item,{active:!0,children:Te?ot:Ee})]}),Object(a.jsxs)("div",{className:"row pt-4 ml-1",children:[b?Object(a.jsx)("div",{children:Object(a.jsx)("h5",{className:"text text-danger",children:"Unable to connect to server. Please check your connection!"})}):Object(a.jsx)("div",{style:{marginTop:"-1.2em"},className:"col-md-12",children:Object(a.jsxs)("div",{className:"row",style:{marginLeft:"3px"},children:[Object(a.jsx)("span",{style:{marginBottom:"5px",width:"31px",paddingLeft:"4px"},title:"Save File",onClick:Te?function(){return _(!0)}:Be,className:"btn btn-primary btn-sm",children:Object(a.jsx)("i",{style:{marginTop:"6px"},className:"fa fa-floppy-o fa-fw fa-lg"})}),!Te&&Object(a.jsx)("span",{title:"Open resource in browser",onClick:function(){var e="".concat(C,"/").concat(localStorage.defaultItem,"/").concat(Le,"/").concat(Ee);window.open(e,"_blank")},style:{cursor:"pointer",marginBottom:"5px",marginLeft:"5px",width:"31px"},className:"btn btn-primary btn-sm",children:Object(a.jsx)("i",{className:"fa fa-lg fa-location-arrow fa-inverse",style:{marginTop:"7px"}})}),Object(a.jsx)("span",{title:"Theme",style:{cursor:"pointer",marginLeft:"5px",marginBottom:"5px",width:"31px",paddingLeft:"9px"},onClick:function(){O((function(e){var t=!e;return localStorage.darkMode=t,t}))},className:"btn btn-primary",children:x?Object(a.jsx)("i",{className:"fa fa-lg fa-moon-o"}):Object(a.jsx)("i",{className:"fa fa-lg fa-lightbulb-o"})})]})}),Object(a.jsxs)(U.a,{show:X,contentLabel:"resource-name-modal",onHide:function(){return _(!1)},children:[Object(a.jsx)(U.a.Header,{closeButton:!0,children:Object(a.jsx)("h4",{className:"modal-title",children:"Enter resource name"})}),Object(a.jsxs)(U.a.Body,{children:[Object(a.jsx)(de.a.Control,{type:"text",name:"resourceName",onChange:function(e){return Oe(e.target.value)},autoFocus:!0,required:!0}),Q?Object(a.jsx)("p",{className:"text text-danger",children:"Spaces/special characters/capital letters/numbers not allowed!"}):null]}),Object(a.jsx)(U.a.Footer,{children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary pull-right",onClick:Be,children:"Save"})})]}),Object(a.jsxs)(U.a,{contentLabel:"empty-warning-modal",show:ne,className:"col-md-4",children:[Object(a.jsx)("div",{className:"modal-header",children:Object(a.jsx)("h4",{children:"Warning"})}),Object(a.jsx)("div",{className:"modal-body",children:Object(a.jsx)("p",{children:"Please enter valid xml text!"})}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-warning",onClick:function(){return ae(!1)},children:"OK"})})]}),Object(a.jsx)(U.a,{contentLabel:"resource-saving-modal",show:K,className:"col-md-4",children:Object(a.jsx)("div",{className:"modal-body",children:y?ie?Object(a.jsxs)("h4",{children:["Saving resource...",Object(a.jsx)("span",{style:{color:"#34495e"},className:"fa fa-circle-o-notch fa-spin pull-right"})]}):Object(a.jsxs)("h4",{children:["Creating resource...",Object(a.jsx)("span",{style:{color:"#34495e"},className:"fa fa-circle-o-notch fa-spin pull-right"})]}):Object(a.jsxs)("h4",{children:["Saving resource...",Object(a.jsx)("span",{style:{color:"#34495e"},className:"fa fa-circle-o-notch fa-spin pull-right"})]})})})]})]}),Object(a.jsx)("div",{className:"XMLInput",children:Object(a.jsx)(et,{ref:t,documentModified:q,onTextChange:function(e){return q||(window.addEventListener("beforeunload",Ie),document.title+=" *",G(!0),be(Object(l.a)(Object(l.a)({},pe),{},{name:Me(pe.name)}))),A(e)},value:M,darkTheme:x})})]})},ut=n(119),dt=n(18),jt=n(243),pt=n(244),bt=n(245),ht=n(247),ft=n.p+"static/media/api-docs-bg.7373cfaf.svg",mt=n(246),xt=function(e){Object(bt.a)(n,e);var t=Object(ht.a)(n);function n(e){var a;return Object(jt.a)(this,n),(a=t.call(this,e)).state={spec:null},a.getSpec=function(){var e=a.props.match.params.app;fetch("".concat(E,"/m/v1.0/openapi/").concat(e),{method:"GET",headers:{Authorization:localStorage.token}}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e.spec);a.setState({spec:t})})).catch((function(e){}))},a}return Object(pt.a)(n,[{key:"componentDidMount",value:function(){this.getSpec()}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"text-center",children:null==this.state.spec?Object(a.jsx)("img",{style:{height:"570px"},src:ft,alt:"API Docs"}):Object(a.jsx)(mt.RedocStandalone,{spec:this.state.spec})})}}]),n}(r.Component),Ot=n(107);function vt(){return gt.apply(this,arguments)}function gt(){return(gt=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){return btoa(e)}var wt={username:"",password:""};var St=function(e){var t=ee(),n=Object(i.a)(t,2),c=n[0],s=n[1],o=ue(),u=Object(i.a)(o,2),d=u[0],j=u[1],p=Object(r.useState)(wt),b=Object(i.a)(p,2),h=b[0],f=b[1],m=h.username,x=h.password,v=function(){var t=Object(k.a)(S.a.mark((function t(n){var a,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,j({type:"open",payload:{message:"Signing In..."}}),t.next=5,T(m,yt(x));case 5:return a=t.sent,r=a.data,t.next=9,localStorage.setItem("token",r.token);case 9:localStorage.setItem("defaultItem",r.active_id),e.history.push("/resources"),j({type:"close"}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),j({type:"close"}),s({type:"open",payload:{message:t.t0.message||"Failed to sign in"}});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),g=function(e){e.preventDefault(),f(Object(l.a)(Object(l.a)({},h),{},Object(Ot.a)({},e.target.name,e.target.value)))};return Object(r.useEffect)(Object(k.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vt();case 2:t.sent?e.history.push("/resources"):localStorage.clear();case 4:case"end":return t.stop()}}),t)}))),[]),Object(a.jsx)(O.a,{className:"pt-4",children:Object(a.jsxs)(de.a,{className:"col-md-4 col-md-offset-4 mx-auto mt-auto",onSubmit:v,children:[Object(a.jsxs)(de.a.Group,{children:[Object(a.jsx)(de.a.Label,{children:"Username"}),Object(a.jsx)(de.a.Control,{type:"text",name:"username",value:m,onChange:g,placeholder:"Username",required:!0})]}),Object(a.jsxs)(de.a.Group,{children:[Object(a.jsx)(de.a.Label,{children:"Password"}),Object(a.jsx)(de.a.Control,{type:"password",name:"password",value:x,placeholder:"Password",onChange:g,required:!0})]}),Object(a.jsx)(X.a,{type:"submit",variant:"success",children:"Login"}),Object(a.jsx)("br",{}),c&&!d&&Object(a.jsx)("p",{className:"text text-danger",children:"Invalid email/password"})]})})},kt=Object(r.createContext)(),Nt={token:"",isLoggedIn:!1};function Rt(e){var t=Object(r.useState)(Nt),n=Object(i.a)(t,2),c=n[0],s=n[1],o=function(){vt()?s({token:localStorage.getItem("token"),isLoggedIn:!0}):window.location.href="/login"};return Object(r.useEffect)((function(){o()}),[]),Object(a.jsx)(kt.Provider,{value:{globalState:{token:c.token,isLoggedIn:c.isLoggedIn},globalHandlers:{updateAuthState:o}},children:Object(a.jsx)(Fe,{children:Object(a.jsx)(Z,{children:Object(a.jsx)(_e,{children:Object(a.jsx)(le,{children:e.children})})})})})}var Ct=function(e){var t=e.component,n=e.auth,r=Object(u.a)(e,["component","auth"]);return Object(a.jsx)(dt.b,Object(l.a)(Object(l.a)({},r),{},{render:function(e){return!0===n?Object(a.jsx)(t,Object(l.a)({},e)):Object(a.jsx)(dt.a,{to:"/login"})}}))},Et=function(){return Object(a.jsx)(dt.a,{to:"/resources"})},Lt=function(){return Object(r.useEffect)((function(){localStorage.clear()}),[]),Object(a.jsx)(dt.a,{to:"/login"})};var Tt=function(e){var t=function(){var e=Object(r.useContext)(kt);if(void 0===e)throw new Error("useCountDispatch must be used within a CountProvider");return[e.globalState,e.globalHandlers]}(),n=Object(i.a)(t,1)[0].isLoggedIn;return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(le,{children:Object(a.jsx)(_e,{children:Object(a.jsx)(Z,{children:Object(a.jsxs)(Fe,{children:[Object(a.jsx)(y,{}),Object(a.jsxs)(ut.a,{children:[Object(a.jsx)(dt.b,{exact:!0,path:"/",component:Et}),Object(a.jsx)(dt.b,{exact:!0,path:"/login",component:St}),Object(a.jsx)(Ct,{exact:!0,path:"/logout",auth:n,component:Lt}),Object(a.jsx)(Ct,{exact:!0,path:"/resources",auth:n,component:ke}),Object(a.jsx)(Ct,{exact:!0,path:"/editor",auth:n,component:lt}),Object(a.jsx)(Ct,{exact:!0,path:"/docs/:app",component:xt}),Object(a.jsx)(dt.b,{exact:!0,path:"/resource-manager",auth:n,component:ct})]})]})})})})})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(f.a,{children:Object(a.jsx)(Rt,{children:Object(a.jsx)(Tt,{})})})}),document.getElementById("root"))}},[[483,1,2]]]);
//# sourceMappingURL=main.a29daba3.chunk.js.map